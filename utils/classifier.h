#include <vector>
class Vertex;
class Graph;

enum Predict_status{
    TIMEOUT,
    NO_TIMEOUT
};

/**
 * @brief contains the information whether there is a timeout or not
 * 
 * @note the tests resulted in accuracy 81% for LMC, 100% for dOmega, 96% for Clisat and 74% for vertex cover on compliment-graph
 * 
 */
struct Expected_times{
    Predict_status LMC;
    Predict_status dOmega;
    Predict_status Clisat;
    Predict_status vc_comp;

    Expected_times(Predict_status lmc_time, Predict_status dOmega_time, Predict_status clisat_time, Predict_status vc_comp_time):LMC(lmc_time),dOmega(dOmega_time),Clisat(clisat_time),vc_comp(vc_comp_time){};
};

/**
 * @brief trained to predict a timeout (at 100s)
 * 
 */
class Classifier{

    private:
        std::vector<std::vector<float>> X = {{400.0, 2579.0, 39.0, 9.0, 39.0, 40.0}, {200.0, 1999.0, 20.0, 18.0, 19.0, 3.0}, {100.0, 999.0, 20.0, 19.0, 19.0, 3.0}, {400.0, 4759.0, 79.0, 9.0, 79.0, 80.0}, {800.0, 4580.0, 39.0, 10.0, 39.0, 40.0}, {400.0, 6360.0, 79.0, 20.0, 79.0, 80.0}, {800.0, 4770.0, 49.0, 10.0, 39.0, 40.0}, {800.0, 8763.0, 59.0, 19.0, 39.0, 40.0}, {800.0, 3999.0, 10.0, 9.0, 9.0, 2.0}, {800.0, 6759.0, 79.0, 9.0, 79.0, 80.0}, {1600.0, 8779.0, 49.0, 10.0, 39.0, 40.0}, {1600.0, 8580.0, 39.0, 10.0, 39.0, 40.0}, {400.0, 15118.0, 159.0, 19.0, 159.0, 160.0}, {400.0, 14375.0, 169.0, 10.0, 159.0, 160.0}, {800.0, 16575.0, 169.0, 9.0, 159.0, 160.0}, {1600.0, 8580.0, 39.0, 10.0, 39.0, 40.0}, {1600.0, 16000.0, 20.0, 20.0, 20.0, 2.0}, {1600.0, 15999.0, 20.0, 19.0, 19.0, 3.0}, {800.0, 17560.0, 79.0, 40.0, 79.0, 80.0}, {1600.0, 32763.0, 79.0, 40.0, 40.0, 40.0}, {1600.0, 19920.0, 159.0, 10.0, 159.0, 160.0}, {1600.0, 35077.0, 119.0, 39.0, 79.0, 80.0}, {3200.0, 16901.0, 36.0, 9.0, 20.0, 21.0}, {3200.0, 32014.0, 26.0, 19.0, 19.0, 15.0}, {3200.0, 16014.0, 17.0, 10.0, 10.0, 10.0}, {800.0, 28107.0, 197.0, 40.0, 159.0, 160.0}, {1600.0, 44396.0, 199.0, 40.0, 159.0, 160.0}, {800.0, 25519.0, 159.0, 39.0, 159.0, 160.0}, {1600.0, 41520.0, 159.0, 40.0, 159.0, 160.0}, {800.0, 17559.0, 79.0, 39.0, 79.0, 80.0}, {3200.0, 26510.0, 81.0, 8.0, 31.0, 32.0}, {3200.0, 32000.0, 20.0, 20.0, 20.0, 8.0}, {3200.0, 64010.0, 50.0, 40.0, 40.0, 28.0}, {3200.0, 64000.0, 40.0, 40.0, 40.0, 3.0}, {3200.0, 64018.0, 54.0, 40.0, 40.0, 17.0}, {3200.0, 64000.0, 40.0, 40.0, 40.0, 11.0}, {1600.0, 64000.0, 80.0, 80.0, 80.0, 3.0}, {800.0, 31999.0, 80.0, 79.0, 79.0, 4.0}, {200.0, 7999.0, 80.0, 79.0, 79.0, 7.0}, {400.0, 16000.0, 80.0, 80.0, 80.0, 5.0}, {200.0, 7998.0, 80.0, 79.0, 79.0, 6.0}, {144.0, 10296.0, 143.0, 143.0, 143.0, 144.0}, {1024.0, 3808.0, 21.0, 2.0, 5.0, 2.0}, {1024.0, 15115.0, 36.0, 16.0, 19.0, 8.0}, {293.0, 21389.0, 255.0, 13.0, 124.0, 119.0}, {601.0, 90150.0, 599.0, 17.0, 283.0, 284.0}, {322.0, 25840.0, 281.0, 14.0, 131.0, 132.0}, {551.0, 75762.0, 491.0, 7.0, 242.0, 243.0}, {885.0, 195585.0, 691.0, 1.0, 532.0, 533.0}, {1051.0, 275887.0, 845.0, 2.0, 638.0, 639.0}, {871.0, 189442.0, 855.0, 33.0, 283.0, 252.0}, {1292.0, 416993.0, 1011.0, 9.0, 770.0, 771.0}, {926.0, 282661.0, 925.0, 90.0, 558.0, 559.0}, {1386.0, 479902.0, 1114.0, 2.0, 851.0, 852.0}, {1292.0, 550430.0, 1225.0, 11.0, 968.0, 969.0}, {1386.0, 633471.0, 1358.0, 21.0, 1043.0, 1044.0}, {2054.0, 1054215.0, 1546.0, 3.0, 1364.0, 1365.0}, {2362.0, 1394170.0, 1761.0, 7.0, 1597.0, 1598.0}, {3387.0, 2867095.0, 2741.0, 26.0, 2199.0, 2200.0}, {34.0, 78.0, 17.0, 1.0, 4.0, 5.0}, {62.0, 159.0, 12.0, 1.0, 4.0, 5.0}, {453.0, 2025.0, 237.0, 1.0, 10.0, 8.0}, {200.0, 3235.0, 34.0, 32.0, 32.0, 24.0}, {45.0, 918.0, 41.0, 40.0, 40.0, 12.0}, {500.0, 9139.0, 38.0, 35.0, 35.0, 26.0}, {297.0, 3520.0, 284.0, 2.0, 16.0, 13.0}, {1133.0, 5451.0, 71.0, 1.0, 11.0, 12.0}, {2395.0, 7462.0, 123.0, 1.0, 35.0, 36.0}, {10680.0, 24316.0, 205.0, 1.0, 31.0, 24.0}, {4824.0, 6837.0, 3.0, 1.0, 2.0, 2.0}, {500.0, 46627.0, 188.0, 185.0, 185.0, 126.0}, {4960.0, 9462.0, 31.0, 1.0, 3.0, 4.0}, {22499.0, 43858.0, 4.0, 2.0, 3.0, 2.0}, {30460.0, 120029.0, 202.0, 1.0, 24.0, 25.0}, {36682.0, 88328.0, 55.0, 1.0, 7.0, 2.0}, {9800.0, 28989.0, 8.0, 3.0, 4.0, 3.0}, {62586.0, 147892.0, 95.0, 1.0, 6.0, 2.0}, {100000.0, 499985.0, 983.0, 5.0, 5.0, 6.0}, {500.0, 31569.0, 204.0, 52.0, 86.0, 8.0}, {325557.0, 2738969.0, 18236.0, 1.0, 83.0, 84.0}, {2980.0, 5360.0, 16.0, 1.0, 3.0, 3.0}, {15783.0, 24663.0, 21.0, 2.0, 2.0, 3.0}, {15783.0, 24663.0, 21.0, 2.0, 2.0, 3.0}, {18096.0, 28281.0, 21.0, 2.0, 2.0, 3.0}, {18096.0, 28281.0, 21.0, 2.0, 2.0, 3.0}, {18096.0, 28281.0, 21.0, 2.0, 2.0, 3.0}, {18096.0, 28281.0, 21.0, 2.0, 2.0, 3.0}, {18096.0, 28281.0, 21.0, 2.0, 2.0, 3.0}, {18096.0, 28281.0, 21.0, 2.0, 2.0, 3.0}, {18096.0, 28281.0, 21.0, 2.0, 2.0, 3.0}, {4579.0, 8378.0, 19.0, 2.0, 3.0, 3.0}, {26300.0, 41500.0, 31.0, 2.0, 2.0, 3.0}, {26300.0, 41500.0, 29.0, 2.0, 2.0, 3.0}, {5066.0, 9112.0, 16.0, 2.0, 3.0, 3.0}, {26300.0, 41500.0, 27.0, 2.0, 2.0, 3.0}, {26300.0, 41500.0, 27.0, 2.0, 2.0, 3.0}, {56860.0, 77264.0, 13.0, 1.0, 3.0, 3.0}, {72420.0, 118362.0, 67.0, 2.0, 3.0, 3.0}, {1150.0, 81068.0, 204.0, 71.0, 103.0, 20.0}, {1534.0, 127011.0, 274.0, 98.0, 116.0, 25.0}, {18897.0, 1777559.0, 11932.0, 1.0, 322.0, 318.0}, {13733.0, 496624.0, 7272.0, 1.0, 144.0, 53.0}, {296.0, 21830.0, 248.0, 1.0, 129.0, 124.0}, {361.0, 32490.0, 275.0, 8.0, 190.0, 184.0}, {347.0, 30015.0, 249.0, 1.0, 162.0, 128.0}, {298.0, 22126.0, 297.0, 27.0, 113.0, 77.0}, {313.0, 24414.0, 261.0, 30.0, 117.0, 64.0}, {100000.0, 499998.0, 17.0, 5.0, 7.0, 5.0}, {192244.0, 609066.0, 1071.0, 1.0, 32.0, 6.0}, {262111.0, 899792.0, 420.0, 1.0, 6.0, 5.0}, {268495.0, 1156647.0, 1318.0, 1.0, 15.0, 10.0}, {300.0, 21928.0, 229.0, 59.0, 98.0, 23.0}, {540486.0, 15245729.0, 3299.0, 1.0, 336.0, 337.0}, {200.0, 13868.0, 161.0, 120.0, 124.0, 16.0}, {862664.0, 16138468.0, 68963.0, 1.0, 388.0, 387.0}, {200.0, 14834.0, 165.0, 130.0, 134.0, 16.0}, {1035.0, 533115.0, 1031.0, 1012.0, 1012.0, 330.0}, {200.0, 17910.0, 188.0, 169.0, 169.0, 35.0}, {400.0, 55860.0, 307.0, 250.0, 253.0, 12.0}, {55321.0, 2456071.0, 17997.0, 1.0, 432.0, 135.0}, {300.0, 33390.0, 267.0, 168.0, 180.0, 34.0}, {700.0, 121728.0, 539.0, 157.0, 235.0, 39.0}, {500.0, 93800.0, 452.0, 293.0, 303.0, 45.0}, {400.0, 59681.0, 322.0, 275.0, 278.0, 20.0}, {776.0, 225990.0, 638.0, 560.0, 560.0, 15.0}, {198.0, 18695.0, 195.0, 181.0, 182.0, 60.0}, {200.0, 18939.0, 197.0, 181.0, 181.0, 59.0}, {200.0, 18967.0, 197.0, 180.0, 181.0, 57.0}, {200.0, 19087.0, 196.0, 186.0, 186.0, 56.0}, {200.0, 18817.0, 197.0, 180.0, 180.0, 55.0}, {200.0, 18889.0, 195.0, 179.0, 179.0, 54.0}, {200.0, 19059.0, 196.0, 184.0, 184.0, 52.0}, {200.0, 18822.0, 196.0, 178.0, 179.0, 51.0}, {200.0, 18874.0, 195.0, 178.0, 180.0, 53.0}, {200.0, 18807.0, 198.0, 178.0, 178.0, 55.0}};

        std::vector<int> LMC_support_vector = {2, 3, 4, 5, 15, 27, 29, 38, 53, 54, 67, 70, 83, 88, 99, 104, 10, 41, 46, 47, 58, 59, 68, 82, 85, 100, 101};
        std::vector<float> LMC_DC = {-0.1, -0.0005643235217813899, -0.1, -0.1, -0.1, -0.1, -0.06588907721556107, -0.08768272566845588, -0.1, -0.1, -0.1, -0.1, -0.1, -0.1, -0.1, -0.1, 0.038926429941947574, 0.021470593796899227, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.13043819366491882, 0.007644986841226296, 0.055655922160806476};
        float LMC_intercept  = -0.5540723156580156;
        float LMC_gamma = 1;
        float LMC_coef = 5.0;
        int LMC_degree = 2;
        //accuracy 0.81

        std::vector<int> dOmega_support_vector = {5, 10, 15, 30, 54, 60, 70, 71, 76, 80, 82, 83, 94, 98, 104, 41, 47, 58, 64, 85, 96, 100, 101};
        std::vector<float> dOmega_DC = {-10.0, -0.14600615687058327, -10.0, -0.3413694960829485, -10.0, -1.0695804509363853, -10.0, -0.29145948210002465, -0.2354314321210837, -0.309379434162373, -10.0, -2.925795101280906, -0.3411028397317643, -0.352347283974818, -10.0, 10.0, 10.0, 10.0, 8.636509186839838, 10.0, 0.5273650450397012, 6.848597445381347, 10.0};
        float dOmega_intercept = -0.659074429813337;
        float dOmega_gamma =  0.047619047619047616;
        //accuracy 1.00
  
        std::vector<int> clisat_support_vector = {0, 2, 3, 4, 5, 6, 9, 11, 13, 15, 16, 17, 20, 21, 22, 23, 24, 25, 27, 29, 31, 34, 37, 38, 39, 40, 41, 42, 43, 46, 47, 48, 49, 51, 52, 53, 54, 56, 57, 58, 59, 63, 67, 68, 70, 73, 77, 78, 82, 83, 84, 87, 88, 89, 90, 91, 92, 93, 97, 98, 99, 100, 102, 104, 105, 107, 1, 10, 12, 14, 26, 30, 33, 55, 60, 61, 64, 66, 71, 75, 76, 79, 80, 85, 86, 94, 96, 101};
        std::vector<float> clisat_DC =  {-0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.03461105001253862, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, -0.06352941176470588, 0.2347826086956522, 0.2347826086956522, 0.04088606917128477, 0.2347826086956522, 0.2347826086956522, 0.15882352941176467, 0.02274969842685731, 0.2347826086956522, 0.2347826086956522, 0.2347826086956522, 0.2347826086956522, 0.2347826086956522, 0.15626614972318326, 0.2347826086956522, 0.14053604815503123, 0.2347826086956522, 0.15728183844835508, 0.2347826086956522, 0.1399471678643008, 0.1588235294117647, 0.13653487106239992, 0.2347826086956522};
        float clisat_intercept = 0.8413661910725836;
        float clisat_gamma = 0.1;
        //accuracy 0.96

        std::vector<int> vc_comp_support_vector = {6, 7, 17, 18, 23, 24, 31, 34, 36, 42, 43, 48, 51, 56, 63, 70, 73, 87, 88, 103, 105, 0, 4, 13, 14, 16, 21, 27, 30, 52, 53, 84, 86, 95, 102};
        std::vector<float> vc_comp_DC = {-0.15826027939678777, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -0.38063549894394577, -0.2734568550167883, -1.0, -0.19817069601151194, -0.19176316869748905, -1.0, -1.0, 2.0, 0.30028615488115257, 2.0, 0.013012611200993916, 1.8927858658498427, 2.0, 0.6881168588628032, 1.6450885132793515e-07, 2.0, 0.3049203090833338, 2.0, 0.0031645336795452796, 2.0, 2.0};
        float vc_comp_intercept = 13.054519256475578;
        float vc_comp_gamma = 1;
        float vc_comp_coef = 10;
        int vc_comp_degree = 3;
        //accuracy 0.74

    public:

        Expected_times predict_timeout(Graph& G);

};